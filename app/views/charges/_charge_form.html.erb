<div class="modal is-active" >
  <div class="modal-background"></div>
  <div class="modal-card">
    <header class="modal-card-head">
      <p class="modal-card-title">Payment</p>
      <button class="delete" id="del" aria-label="close"></button>
    </header>
    <section class="modal-card-body">

      <h1 class="title is-3">Payments</h1>
      <hr />
      <p>Chosen book: <strong><%= @book.title %></strong>
      <p> Total to pay: <strong><%= @book.price %> $ </strong></p>
      <hr/>
        <%= form_tag charges_path(format: :js), authenticity_token: true, id: "payment-form" do |form| %>

            <div class="field">
              <label for="card-element" class="label">Enter credit or debit card</label>

              <div id="card-element">
                  <script type='text/javascript'>
                    $( document ).ready( function() {
                      showPaymentForm();
                    });
                  </script>
              </div>

              <div id="card-errors" role="alert"></div>
            </div>

            <%= hidden_field_tag :book_id, @book.id %>
          </br>
            <button class="button is-fullwidth is-link">Pay <%= @book.price %> $ </button>
        <% end %>
    </section>
    <footer class="modal-card-foot">
      <%#= link_to "Download bill", generate_bill_path(id: charge.id, format: :pdf), class: "button is-success" %>
      <%= link_to 'Cancel', :back, class: "button" %>
    </footer>
  </div>
</div>
